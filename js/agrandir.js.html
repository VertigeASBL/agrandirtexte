jQuery(document).ready(function($) {
    
    // On récupère la taille de la cible en Int pour faire des opérations mathématique dessus.
    var size = parseInt($("#CONFIG{agrandirtexte/selecteur}").css("font-size"));

    // On sauvegarde la taille originale, pour pouvoir y revenir via le reset.
    var save_size = parseInt($("#CONFIG{agrandirtexte/selecteur}").css("font-size"));

    // On récupère le line-height originale
    var lineHeight = $("#CONFIG{agrandirtexte/selecteur}").css("line-height");

    // Si on click sur plus petit, on rédécrémente la taille.
    $(".agrandirtexte_moin").on("click", function () {
        size--;
        $("#CONFIG{agrandirtexte/selecteur}").css({
            "font-size": size+"px",
            "line-height": "normal"
        });
    });

    // Si c'est un reset, on revient à la taille originale.
    $(".agrandirtexte_reset").on("click", function () {
        // On reset aussi la taille en cour d'utilisation.
        size = save_size;

        // On revient à save_size
        $("#CONFIG{agrandirtexte/selecteur}").css({
            "font-size": save_size+"px",
            "line-height": lineHeight
        });
    });

    // Si on demander le texte plus grand, on incrémente la taille;
    $(".agrandirtexte_plus").on("click", function () {
        size++;
        $("#CONFIG{agrandirtexte/selecteur}").css({
            "font-size": size+"px",
            "line-height": "normal"
        });
    });
});